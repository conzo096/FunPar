package c2

import org.jcsp.lang.*
import org.jcsp.groovy.*

class ThreeToEightTest extends GroovyTestCase {
	
	void testProcess()
	{
		One2OneChannel connect1 = Channel.createOne2One()
		One2OneChannel connect2 = Channel.createOne2One()	

		def genSet = new GenerateSetsOfThree ( outChannel: connect1.out())
		def list =  new ListToStream ( inChannel: connect1.in(), 
                    		           outChannel: connect2.out() )
		def createSet = new CreateSetsOfEight ( inChannel: connect2.in(), setSize: 8 )
		
		def processList = [ genSet,list,createSet]
		  new PAR (processList).run()
		  def expected = createSet.actual
		  def actual = createSet.actual
		  println "${actual}"
		  assertTrue(expected == actual)
	}
}